{
  "name": "Node.js 22 with code-server",
  "image": "mcr.microsoft.com/devcontainers/javascript-node:22",
  "features": {
    // "ghcr.io/devcontainers/features/common-utils:2": {
    //   "installZsh": true,
    //   "installOhMyZsh": true,
    //   "upgradePackages": true,
    //   "username": "node",
    //   "uid": "1000",
    //   "gid": "1000"
    // },
    // "ghcr.io/devcontainers/features/git:1": {
    //   "version": "latest",
    //   "ppa": true
    // },
    // Include code-server feature as per Coder.com docs
    // "ghcr.io/coder/devcontainer-features/code-server:1": {
    //   "port": 13337,
    //   "host": "0.0.0.0"
    // }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "dbaeumer.vscode-eslint",
        "esbenp.prettier-vscode"
      ],
      "settings": {
        "terminal.integrated.shell.linux": "/bin/bash",
        "editor.formatOnSave": true,
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "eslint.workingDirectories": ["./"]
      }
    }
  },
  // Use appPort for Coder.com as per docs
  // Includes standard app ports (e.g., 3000, 5173) and code-server port (13337)
  "appPort": ["8080:3000", "13337:13337"],
  "onCreateCommand": "npm install",
  "postAttachCommand": "npm start",
  "remoteUser": "node"
}
